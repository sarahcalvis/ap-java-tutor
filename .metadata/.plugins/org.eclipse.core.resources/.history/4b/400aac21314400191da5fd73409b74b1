import java.io.File;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;
import java.util.Random;

public class TestBank {
	Map<String, ArrayList<Question>> bank;
	Random rand;
	int randNo;
	boolean hasQ;
	
	TestBank(){
		bank = new HashMap<String, ArrayList<Question>>();
		rand = new Random();
	}
	
	void addQuest(Question quest){
		//if the test bank does not contain this topic, create a new one and add question
		if(!bank.containsKey(quest.getTopic())){
			quest.setID(0);
			bank.put(quest.getTopic(), new ArrayList<Question>());
			bank.get(quest.getTopic()).add(quest);
		}else{
			quest.setID(bank.get(quest.getTopic()).size());
			bank.get(quest.getTopic()).add(quest);
		}
	}
	
	//TODO: terrible algorithm!!
	Question getQuest(String topic){
		hasQ = false;
		while(!hasQ){
			randNo = rand.nextInt(bank.get(topic).size() - 1);
			if(!bank.get(topic).get(randNo).getAsked()){
				return bank.get(topic).get(randNo);
			}
		}
		return null;
	}
}
